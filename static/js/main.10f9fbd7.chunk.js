(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(21)},16:function(t,e,a){},20:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var s=a(0),o=a.n(s),n=a(4),i=a.n(n),r=(a(16),a(5)),c=a(6),l=a(8),h=a(7),p=a(9),u=a(1),d=a(2),v=a.n(d),m=(a(20),function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(h.a)(e).call(this))).handleRotations=function(e){t.setState({rotations:e}),t.checkUploads()},t.handleSpots=function(e){t.setState({spots:e}),t.checkUploads()},t.state={creativeCPV:[],rotationCPV:[]},t.handleRotations=t.handleRotations.bind(Object(u.a)(Object(u.a)(t))),t.handleSpots=t.handleSpots.bind(Object(u.a)(Object(u.a)(t))),t.checkUploads=t.checkUploads.bind(Object(u.a)(Object(u.a)(t))),t.calculateCPVCreative=t.calculateCPVCreative.bind(Object(u.a)(Object(u.a)(t))),t.calculateCPVRotation=t.calculateCPVRotation.bind(Object(u.a)(Object(u.a)(t))),t}return Object(p.a)(e,t),Object(c.a)(e,[{key:"checkUploads",value:function(){this.state.rotations&&this.state.rotations.length>0&&this.state.spots&&this.state.spots.length>0&&(this.calculateCPVCreative(),this.calculateCPVRotation())}},{key:"calculateCPVCreative",value:function(){for(var t=[],e=[],a=0;a<this.state.spots.length;a++)0!==a&&2 in this.state.spots[a]&&(this.state.spots[a][2]in t?(t[this.state.spots[a][2]]+=parseFloat(this.state.spots[a][3]),e[this.state.spots[a][2]]+=parseFloat(this.state.spots[a][4])):(t[this.state.spots[a][2]]=parseFloat(this.state.spots[a][3]),e[this.state.spots[a][2]]=parseFloat(this.state.spots[a][4])));var s=[];for(var o in e)s.push("The creative "+o+" has a cpv of "+e[o]/t[o]);this.setState({creativeCPV:s})}},{key:"calculateCPVRotation",value:function(){for(var t=[],e=0;e<this.state.rotations.length;e++)if(0!==e&&1 in this.state.rotations[e]){var a=this.state.rotations[e][2],s=this.changeToTwentyFour(this.state.rotations[e][0]),o=this.changeToTwentyFour(this.state.rotations[e][1]);t.push({name:a,start:s,end:o})}for(var n=[],i=[],r=0;r<this.state.spots.length;r++)if(0!==r&&1 in this.state.spots[r])for(var c in t){var l=this.changeToTwentyFour(this.state.spots[r][1]);l<=t[c].end&&l>=t[c].start&&(t[c].name+"__"+this.state.spots[r][0]in n?(n[t[c].name+"__"+this.state.spots[r][0]]+=parseFloat(this.state.spots[r][3]),i[t[c].name+"__"+this.state.spots[r][0]]+=parseFloat(this.state.spots[r][4])):(n[t[c].name+"__"+this.state.spots[r][0]]=parseFloat(this.state.spots[r][3]),i[t[c].name+"__"+this.state.spots[r][0]]=parseFloat(this.state.spots[r][4])))}var h=[];for(var p in i){var u=p.split("__");h.push("The "+u[0]+" rotation  on "+u[1]+" has a cpv of "+i[p]/n[p])}this.setState({rotationCPV:h})}},{key:"changeToTwentyFour",value:function(t){var e=/([0-9]+):([0-9]+) ([A-Z]{2})/g.exec(t),a=parseInt(e[1]+e[2]);return"PM"===e[3]&&"12"!==e[1]&&(a+=1200),a}},{key:"render",value:function(){var t=this.state.creativeCPV.map(function(t,e){return o.a.createElement("li",{key:e}," ",t," ")}),e=this.state.rotationCPV.map(function(t,e){return o.a.createElement("li",{key:e}," ",t," ")});return o.a.createElement("div",{className:"App"},o.a.createElement("header",{class:"o-cpv__header"},"CPV Calculator"),o.a.createElement(v.a,{cssClass:"csv-reader-input",label:"Select CSV with Rotations",onFileLoaded:this.handleRotations,inputId:"rotations",inputStyle:{color:"red"}}),o.a.createElement("br",null),o.a.createElement(v.a,{cssClass:"csv-reader-input",label:"Select CSV with Spots",onFileLoaded:this.handleSpots,inputId:"rotations",inputStyle:{color:"red"}}),o.a.createElement("br",null),o.a.createElement("ul",null,t),o.a.createElement("br",null),o.a.createElement("ul",null,e))}}]),e}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.10f9fbd7.chunk.js.map